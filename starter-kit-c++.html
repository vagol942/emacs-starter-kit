<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<title>Starter Kit C++</title>
<meta  http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta  name="generator" content="Org-mode" />
<link rel="stylesheet" href="stylesheets/styles.css">
                <link rel="stylesheet" href="stylesheets/org-pygments.css">
<script type="text/javascript">
/*
@licstart  The following is the entire license notice for the
JavaScript code in this tag.

Copyright (C) 2012  Free Software Foundation, Inc.

The JavaScript code in this tag is free software: you can
redistribute it and/or modify it under the terms of the GNU
General Public License (GNU GPL) as published by the Free Software
Foundation, either version 3 of the License, or (at your option)
any later version.  The code is distributed WITHOUT ANY WARRANTY;
without even the implied warranty of MERCHANTABILITY or FITNESS
FOR A PARTICULAR PURPOSE.  See the GNU GPL for more details.

As additional permission under GNU GPL version 3 section 7, you
may distribute non-source (e.g., minimized or compacted) forms of
that code without the copy of the GNU GPL normally required by
section 4, provided you include this license notice and a URL
through which recipients can access the Corresponding Source.


@licend  The above is the entire license notice
for the JavaScript code in this tag.
*/
<!--/*--><![CDATA[/*><!--*/
 function CodeHighlightOn(elem, id)
 {
   var target = document.getElementById(id);
   if(null != target) {
     elem.cacheClassElem = elem.className;
     elem.cacheClassTarget = target.className;
     target.className = "code-highlighted";
     elem.className   = "code-highlighted";
   }
 }
 function CodeHighlightOff(elem, id)
 {
   var target = document.getElementById(id);
   if(elem.cacheClassElem)
     elem.className = elem.cacheClassElem;
   if(elem.cacheClassTarget)
     target.className = elem.cacheClassTarget;
 }
/*]]>*///-->
</script>
</head>
<body>
<div id="content">
<h1 class="title">Starter Kit C++</h1>
<p>
This is part of the <a href="starter-kit.html">Emacs Starter Kit</a>.
</p>

<div id="outline-container-sec-1" class="outline-2">
<h2 id="sec-1">Starter Kit C++</h2>
<div class="outline-text-2" id="text-1">
</div><div id="outline-container-sec-1-1" class="outline-3">
<h3 id="sec-1-1">Set C++ mode for *.h and *.ipp files (instead of plain-old C mode)</h3>
<div class="outline-text-3" id="text-1-1">
<div class="org-src-container">

<pre class="src src-emacs-lisp">(setq auto-mode-alist (cons '(<span class="org-string">"\\.h$"</span>   . c++-mode) auto-mode-alist))
(setq auto-mode-alist (cons '(<span class="org-string">"\\.ipp$"</span> . c++-mode) auto-mode-alist))
</pre>
</div>
</div>
</div>
<div id="outline-container-sec-1-2" class="outline-3">
<h3 id="sec-1-2">Running starter-kit-coding-hook</h3>
<div class="outline-text-3" id="text-1-2">
<div class="org-src-container">

<pre class="src src-emacs-lisp">(add-hook 'c-mode-common-hook 'run-starter-kit-coding-hook)
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-1-3" class="outline-3">
<h3 id="sec-1-3">Un/fold function/namespace definitions</h3>
<div class="outline-text-3" id="text-1-3">
<div class="org-src-container">

<pre class="src src-emacs-lisp">(add-hook 'c-mode-common-hook
          (<span class="org-keyword">lambda</span> ()
            (local-set-key (kbd <span class="org-string">"&lt;s-right&gt;"</span>) 'hs-show-block)
            (local-set-key (kbd <span class="org-string">"&lt;s-left&gt;"</span>)  'hs-hide-block)
            (local-set-key (kbd <span class="org-string">"&lt;s-up&gt;"</span>)    'hs-hide-all)
            (local-set-key (kbd <span class="org-string">"&lt;s-down&gt;"</span>)  'hs-show-all)
            <span class="org-comment-delimiter">;; </span><span class="org-comment">hungry delete</span>
            <span class="org-comment-delimiter">;;</span><span class="org-comment">(c-toggle-hungry-state t)</span>
            (hs-minor-mode   t)
            (whitespace-mode t)))
</pre>
</div>
</div>
</div>
<div id="outline-container-sec-1-4" class="outline-3">
<h3 id="sec-1-4">Compilation</h3>
<div class="outline-text-3" id="text-1-4">
</div><div id="outline-container-sec-1-4-1" class="outline-4">
<h4 id="sec-1-4-1">Scroll down compilation messages</h4>
<div class="outline-text-4" id="text-1-4-1">
<div class="org-src-container">

<pre class="src src-emacs-lisp">(setq compilation-scroll-output t)
</pre>
</div>
</div>
</div>
<div id="outline-container-sec-1-4-2" class="outline-4">
<h4 id="sec-1-4-2">Send notification when compilation is done</h4>
<div class="outline-text-4" id="text-1-4-2">
<div class="org-src-container">

<pre class="src src-emacs-lisp">(<span class="org-keyword">defun</span> <span class="org-function-name">compile-notify</span> (buffer message)
  (sk-popup <span class="org-string">"Emacs compilation"</span> message))
(setq compilation-finish-function 'compile-notify)
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-1-4-3" class="outline-4">
<h4 id="sec-1-4-3">Bury compilation buffer</h4>
<div class="outline-text-4" id="text-1-4-3">
<p>
If compilation is successful namely neither errors nor warnings, the compilation
buffer will disappear after 1 second. Stolen from <a href="http://stackoverflow.com/questions/11043004/emacs-compile-buffer-auto-close/11059012#11059012">stackoverflow</a>.
</p>
<div class="org-src-container">

<pre class="src src-emacs-lisp">(<span class="org-keyword">defun</span> <span class="org-function-name">sk-bury-compile-buffer-if-successful</span> (buffer string)
  <span class="org-doc">"Bury a compilation buffer if succeeded without warnings "</span>
  (<span class="org-keyword">if</span> (and
       (string-match <span class="org-string">"compilation"</span> (buffer-name buffer))
       (string-match <span class="org-string">"finished"</span> string)
       (not
        (<span class="org-keyword">with-current-buffer</span> buffer
          (search-forward <span class="org-string">"warning"</span> nil t))))
      (run-with-timer 1 nil
                      (<span class="org-keyword">lambda</span> (buf)
                        (bury-buffer buf)
                        (switch-to-prev-buffer (get-buffer-window buf) 'kill))
                      buffer)))
(add-hook 'compilation-finish-functions 'sk-bury-compile-buffer-if-successful)
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-sec-1-5" class="outline-3">
<h3 id="sec-1-5">Tags</h3>
<div class="outline-text-3" id="text-1-5">
<p>
The following code makes use to <code>etags</code> program to generate a list of tags and
to ease the code navigation.
</p>
</div>

<div id="outline-container-sec-1-5-1" class="outline-4">
<h4 id="sec-1-5-1">Create TAGS table</h4>
<div class="outline-text-4" id="text-1-5-1">
<div class="org-src-container">

<pre class="src src-emacs-lisp">(<span class="org-keyword">defun</span> <span class="org-function-name">sk-create-tags</span> (dirname)
  <span class="org-doc">"Create tags file."</span>
  (interactive <span class="org-string">"DDirectory: "</span>)
  (shell-command
   (format <span class="org-string">"find %s -type f </span><span class="org-regexp-grouping-backslash"><span class="org-string">\\</span></span><span class="org-regexp-grouping-construct"><span class="org-string">(</span></span><span class="org-string"> -name '*.cc' -o -name '*.h' </span><span class="org-regexp-grouping-backslash"><span class="org-string">\\</span></span><span class="org-regexp-grouping-construct"><span class="org-string">)</span></span><span class="org-string"> | grep -v '__' | grep -v '/devel/' | etags - &amp;&amp; mv %s/TAGS %s/."</span> dirname default-directory temporary-file-directory)))
</pre>
</div>

<p>
Use this function to create TAGS related to SN@ailWare software.
</p>
<div class="org-src-container">

<pre class="src src-emacs-lisp">(<span class="org-keyword">defun</span> <span class="org-function-name">sk-create-snailware-tags</span> ()
  <span class="org-doc">"Create SN@ilWare tags file."</span>
  (interactive)
  (sk-create-tags <span class="org-string">"$SNAILWARE_DEV_DIR"</span>))
</pre>
</div>
</div>
</div>
<div id="outline-container-sec-1-5-2" class="outline-4">
<h4 id="sec-1-5-2">Set TAGS filename</h4>
<div class="outline-text-4" id="text-1-5-2">
<div class="org-src-container">

<pre class="src src-emacs-lisp">(setq tags-file-name (concat temporary-file-directory <span class="org-string">"TAGS"</span>))
</pre>
</div>
</div>
</div>
</div>
</div>
</div>
<div id="postamble" class="status">
File under git version control - commit 4876b11 - 2013-11-01
</div>
</body>
</html>
