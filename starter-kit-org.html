<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<title>Starter Kit Org</title>
<meta  http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta  name="generator" content="Org-mode" />
<link rel="stylesheet" href="css/styles.css" />
               <link rel="stylesheet" href="css/org-pygments.css" />
               <link rel="stylesheet" href="//netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.css" />
<script type="text/javascript">
/*
@licstart  The following is the entire license notice for the
JavaScript code in this tag.

Copyright (C) 2012-2013 Free Software Foundation, Inc.

The JavaScript code in this tag is free software: you can
redistribute it and/or modify it under the terms of the GNU
General Public License (GNU GPL) as published by the Free Software
Foundation, either version 3 of the License, or (at your option)
any later version.  The code is distributed WITHOUT ANY WARRANTY;
without even the implied warranty of MERCHANTABILITY or FITNESS
FOR A PARTICULAR PURPOSE.  See the GNU GPL for more details.

As additional permission under GNU GPL version 3 section 7, you
may distribute non-source (e.g., minimized or compacted) forms of
that code without the copy of the GNU GPL normally required by
section 4, provided you include this license notice and a URL
through which recipients can access the Corresponding Source.


@licend  The above is the entire license notice
for the JavaScript code in this tag.
*/
<!--/*--><![CDATA[/*><!--*/
 function CodeHighlightOn(elem, id)
 {
   var target = document.getElementById(id);
   if(null != target) {
     elem.cacheClassElem = elem.className;
     elem.cacheClassTarget = target.className;
     target.className = "code-highlighted";
     elem.className   = "code-highlighted";
   }
 }
 function CodeHighlightOff(elem, id)
 {
   var target = document.getElementById(id);
   if(elem.cacheClassElem)
     elem.className = elem.cacheClassElem;
   if(elem.cacheClassTarget)
     target.className = elem.cacheClassTarget;
 }
/*]]>*///-->
</script><script type="text/javascript">
  function displayTOC() {
      var first = document.getElementById("text-table-of-contents").innerHTML;
      if (first != "") {
          var maincontent = '<a class="button"><i class="fa fa-list"></i></a>'
          maincontent += "<div>" + first + "</div>";
          document.getElementById("toc").innerHTML = maincontent;
      } else {
          document.getElementById("toc").style.display = "none";
      }
     }
  function randomLinkColor() {
      var colors = ['#67ad00', '#D5BC23', '#FF9927', '#FF2D27', '#AB0045', '#B81FC8'];
      var random_color = colors[Math.floor(Math.random() * colors.length)];
      var elements = document.querySelectorAll('a');
      [].slice.call(elements).forEach(function(elem) {
          //elem.style.color = random_color;
      });
  }
  </script>
</head>
<body onload="randomLinkColor();displayTOC();"><div id="toc"></div>
<div id="content">
<h1 class="title">Starter Kit Org</h1>
<p>
This is part of the <a href="starter-kit.html">Emacs Starter Kit</a>.
</p>

<div id="outline-container-sec-1" class="outline-2">
<h2 id="sec-1">Starter Kit Org</h2>
<div class="outline-text-2" id="text-1">
<p>
Configuration for the eminently useful <a href="http://orgmode.org/">Org Mode</a>.
</p>

<p>
Org-mode is for keeping notes, maintaining ToDo lists, doing project
planning, and authoring with a fast and effective plain-text system.
Org Mode can be used as a very simple folding outliner or as a complex
GTD system or tool for reproducible research and literate programming.
</p>

<p>
For more information on org-mode check out <a href="http://orgmode.org/worg/">worg</a>, a large Org-mode wiki
which is also <b>implemented using</b> Org-mode and <a href="http://git-scm.com/">git</a>.
</p>
</div>

<div id="outline-container-sec-1-1" class="outline-3">
<h3 id="sec-1-1">Org-Mode hooks</h3>
<div class="outline-text-3" id="text-1-1">
</div><div id="outline-container-sec-1-1-1" class="outline-4">
<h4 id="sec-1-1-1">Keybindings</h4>
<div class="outline-text-4" id="text-1-1-1">
<div class="org-src-container">

<pre class="src src-emacs-lisp">(add-hook 'org-mode-hook
            (<span class="org-keyword">lambda</span> ()
              (local-set-key <span class="org-string">"\C-n"</span> 'outline-next-visible-heading)
              (local-set-key <span class="org-string">"\C-p"</span> 'outline-previous-visible-heading)
              (local-set-key <span class="org-string">"\C-u"</span> 'outline-up-heading)
              <span class="org-comment-delimiter">;; </span><span class="org-comment">table</span>
              (local-set-key <span class="org-string">"\M-\C-w"</span> 'org-table-copy-region)
              (local-set-key <span class="org-string">"\M-\C-y"</span> 'org-table-paste-rectangle)
              (local-set-key <span class="org-string">"\M-\C-l"</span> 'org-table-sort-lines)
              <span class="org-comment-delimiter">;; </span><span class="org-comment">display images</span>
              (local-set-key <span class="org-string">"\M-I"</span> 'org-toggle-inline-image)))
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-1-1-2" class="outline-4">
<h4 id="sec-1-1-2">Minor mode</h4>
<div class="outline-text-4" id="text-1-1-2">
<div class="org-src-container">

<pre class="src src-emacs-lisp">(add-hook 'org-mode-hook
          (<span class="org-keyword">lambda</span> ()
            (org-indent-mode  t)
            (org-bullets-mode t)
            (auto-complete-mode t)
            (linum-mode -1)
            (hl-line-mode t)
            (diminish 'org-indent-mode)))
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-sec-1-2" class="outline-3">
<h3 id="sec-1-2">Org-Mode keybindings</h3>
<div class="outline-text-3" id="text-1-2">
<div class="org-src-container">

<pre class="src src-emacs-lisp">(<span class="org-keyword">require</span> '<span class="org-constant">ox-latex</span>)
(define-key org-mode-map (kbd <span class="org-string">"s-p"</span>) 'org-latex-export-to-pdf)
(define-key org-mode-map (kbd <span class="org-string">"s-l"</span>) 'org-latex-export-to-latex)
(define-key org-mode-map (kbd <span class="org-string">"s-h"</span>) 'org-html-export-to-html)
(<span class="org-keyword">require</span> '<span class="org-constant">ox-beamer</span>)
(define-key org-beamer-mode-map (kbd <span class="org-string">"s-p"</span>) 'org-beamer-export-to-pdf)
(define-key org-beamer-mode-map (kbd <span class="org-string">"s-l"</span>) 'org-beamer-export-to-latex)
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-1-3" class="outline-3">
<h3 id="sec-1-3">Org-Mode settings</h3>
<div class="outline-text-3" id="text-1-3">
</div><div id="outline-container-sec-1-3-1" class="outline-4">
<h4 id="sec-1-3-1">Setting org timestamp directory</h4>
<div class="outline-text-4" id="text-1-3-1">
<div class="org-src-container">

<pre class="src src-emacs-lisp">(setq org-publish-timestamp-directory (concat temporary-file-directory <span class="org-string">"org-timestamps"</span>))
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-1-3-2" class="outline-4">
<h4 id="sec-1-3-2">Ellipsis</h4>
<div class="outline-text-4" id="text-1-3-2">
<div class="org-src-container">

<pre class="src src-emacs-lisp">(setq org-ellipsis <span class="org-string">"&#8230;"</span>
      org-columns-ellipses <span class="org-string">"&#8230;"</span>)
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-1-3-3" class="outline-4">
<h4 id="sec-1-3-3">Using ido completing</h4>
<div class="outline-text-4" id="text-1-3-3">
<div class="org-src-container">

<pre class="src src-emacs-lisp">(setq org-completion-use-ido t)
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-1-3-4" class="outline-4">
<h4 id="sec-1-3-4">Use speed keys</h4>
<div class="outline-text-4" id="text-1-3-4">
<p>
Speed commands enable single-letter commands in Org-mode files when
the point is at the beginning of a headline, or at the beginning of a
code block.
</p>

<p>
See the <code>org-speed-commands-default</code> variable for a list of the keys
and commands enabled at the beginning of headlines.  All code blocks
are available at the beginning of a code block, the following key
sequence <code>C-c C-v h</code> (bound to <code>org-babel-describe-bindings</code>) will
display a list of the code blocks commands and their related keys.
</p>

<div class="org-src-container">

<pre class="src src-emacs-lisp">(setq org-use-speed-commands t)
</pre>
</div>
</div>
</div>
<div id="outline-container-sec-1-3-5" class="outline-4">
<h4 id="sec-1-3-5">Special word faces</h4>
<div class="outline-text-4" id="text-1-3-5">
<div class="org-src-container">

<pre class="src src-emacs-lisp">(<span class="org-keyword">defface</span> <span class="org-variable-name">my/highlight-face</span>
  '((t (<span class="org-builtin">:weight</span> normal <span class="org-builtin">:slant</span> normal <span class="org-builtin">:box</span> '(<span class="org-builtin">:line-width</span> 1 <span class="org-builtin">:color</span> <span class="org-string">"#CC0000"</span>)
                <span class="org-builtin">:foreground</span> <span class="org-string">"#CC0000"</span> <span class="org-builtin">:background</span> <span class="org-string">"#FFFF88"</span>)))
  <span class="org-doc">"Face for making FIXME and other warnings stand out."</span>)

(<span class="org-keyword">defvar</span> <span class="org-variable-name">my/highlight-org-regexps</span>
  <span class="org-string">"</span><span class="org-regexp-grouping-backslash"><span class="org-string">\\</span></span><span class="org-regexp-grouping-construct"><span class="org-string">(</span></span><span class="org-string">FIXME</span><span class="org-regexp-grouping-backslash"><span class="org-string">\\</span></span><span class="org-regexp-grouping-construct"><span class="org-string">|</span></span><span class="org-string">BUG</span><span class="org-regexp-grouping-backslash"><span class="org-string">\\</span></span><span class="org-regexp-grouping-construct"><span class="org-string">|</span></span><span class="org-string">XXX</span><span class="org-regexp-grouping-backslash"><span class="org-string">\\</span></span><span class="org-regexp-grouping-construct"><span class="org-string">|</span></span><span class="org-string">[Ee]rror</span><span class="org-regexp-grouping-backslash"><span class="org-string">\\</span></span><span class="org-regexp-grouping-construct"><span class="org-string">|</span></span><span class="org-string">[Ww]arning</span><span class="org-regexp-grouping-backslash"><span class="org-string">\\</span></span><span class="org-regexp-grouping-construct"><span class="org-string">|</span></span><span class="org-string">WARNING</span><span class="org-regexp-grouping-backslash"><span class="org-string">\\</span></span><span class="org-regexp-grouping-construct"><span class="org-string">)</span></span><span class="org-string">"</span>
  <span class="org-doc">"Patterns to highlight (for Org mode only, to ensure no conflict with the</span>
<span class="org-doc">  Org mode TODO keyword)."</span>)

<span class="org-comment-delimiter">;; </span><span class="org-comment">set up highlighting of special patterns for Org mode only</span>
(<span class="org-keyword">dolist</span> (mode '(org-mode
                orgtbl-mode))
  (font-lock-add-keywords mode
                          `((,my/highlight-org-regexps 1 'my/highlight-face
                                                       prepend))))
</pre>
</div>
</div>
</div>
<div id="outline-container-sec-1-3-6" class="outline-4">
<h4 id="sec-1-3-6">Turn on automatic renumbering of footnotes</h4>
<div class="outline-text-4" id="text-1-3-6">
<div class="org-src-container">

<pre class="src src-emacs-lisp">(setq org-footnote-auto-adjust t)
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-sec-1-4" class="outline-3">
<h3 id="sec-1-4">Code blocks</h3>
<div class="outline-text-3" id="text-1-4">
<p>
This activates a number of widely used languages, you are encouraged to activate
more languages using the customize interface for the <code>org-babel-load-languages</code>
variable, or with an elisp form like the one below.  The customize interface of
<code>org-babel-load-languages</code> contains an up to date list of the currently
supported languages.
</p>
<div class="org-src-container">

<pre class="src src-emacs-lisp">(org-babel-do-load-languages
 'org-babel-load-languages
 '((emacs-lisp . t)
   (sh . t)
   (C . t)
   (python . t)
   (latex . t)
   (gnuplot . t)))
</pre>
</div>

<p>
You are encouraged to add the following to your personal configuration
although it is not added by default as a security precaution.
</p>
<div class="org-src-container">

<pre class="src src-emacs-lisp">(setq org-confirm-babel-evaluate nil)
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-1-5" class="outline-3">
<h3 id="sec-1-5">Code block fontification</h3>
<div class="outline-text-3" id="text-1-5">
<p>
The following displays the contents of code blocks in Org-mode files
using the major-mode of the code.  It also changes the behavior of
<code>TAB</code> to as if it were used in the appropriate major mode.  This means
that reading and editing code form inside of your Org-mode files is
much more like reading and editing of code using its major mode.
</p>
<div class="org-src-container">

<pre class="src src-emacs-lisp">(setq org-src-fontify-natively  t)
(setq org-src-tab-acts-natively t)
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-1-6" class="outline-3">
<h3 id="sec-1-6">The Library of Babel</h3>
<div class="outline-text-3" id="text-1-6">
<p>
The library of babel contains makes many useful functions available
for use by code blocks in <b>any</b> emacs file.  See the actual
<code>library-of-babel.org</code> (located in the Org-mode <code>contrib/babel</code>
directory) file for information on the functions, and see
<a href="http://orgmode.org/worg/org-contrib/babel/intro.php#library-of-babel">worg:library-of-babel</a> for more usage information.
</p>

<p>
Code blocks can be loaded into the library of babel from any Org-mode
file using the <code>org-babel-lob-ingest</code> function.
</p>
<div class="org-src-container">

<pre class="src src-emacs-lisp">(org-babel-lob-ingest (expand-file-name <span class="org-string">"starter-kit-org.org"</span> starter-kit-dir))
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-1-7" class="outline-3">
<h3 id="sec-1-7">LaTeX hacks</h3>
<div class="outline-text-3" id="text-1-7">
</div><div id="outline-container-sec-1-7-1" class="outline-4">
<h4 id="sec-1-7-1">VC status</h4>
</div>
<div id="outline-container-sec-1-7-2" class="outline-4">
<h4 id="sec-1-7-2">Use smart quote when exporting</h4>
<div class="outline-text-4" id="text-1-7-2">
<div class="org-src-container">

<pre class="src src-emacs-lisp">(setq org-export-with-smart-quotes nil)
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-1-7-3" class="outline-4">
<h4 id="sec-1-7-3">Add <code>cite</code> link</h4>
<div class="outline-text-4" id="text-1-7-3">
<div class="org-src-container">

<pre class="src src-emacs-lisp">(org-add-link-type <span class="org-string">"cite"</span> 'ebib
 (<span class="org-keyword">lambda</span> (path desc format)
   (<span class="org-keyword">cond</span>
    ((eq format 'html)  (format <span class="org-string">"(&lt;cite&gt;%s&lt;/cite&gt;)"</span> path))
    ((eq format 'latex) (format <span class="org-string">"\\cite{%s}"</span> path)))))
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-1-7-4" class="outline-4">
<h4 id="sec-1-7-4">Keep LaTeX logfiles</h4>
<div class="outline-text-4" id="text-1-7-4">
<div class="org-src-container">

<pre class="src src-emacs-lisp">(setq org-latex-remove-logfiles nil)
</pre>
</div>
</div>
</div>
<div id="outline-container-sec-1-7-5" class="outline-4">
<h4 id="sec-1-7-5">Default list of LaTeX packages</h4>
<div class="outline-text-4" id="text-1-7-5">
<div class="org-src-container">

<pre class="src src-emacs-lisp">(add-to-list 'org-latex-packages-alist '(<span class="org-string">""</span> <span class="org-string">"org-preamble"</span>))
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-1-7-6" class="outline-4">
<h4 id="sec-1-7-6">Defining org-latex classes</h4>
<div class="outline-text-4" id="text-1-7-6">
<div class="org-src-container">

<pre class="src src-emacs-lisp">(<span class="org-keyword">unless</span> (boundp 'org-latex-classes)
  (setq org-latex-classes nil))
</pre>
</div>
</div>
<ul class="org-ul"><li>General article class<br  /><div class="outline-text-5" id="text-1-7-6-1">
<div class="org-src-container">

<pre class="src src-emacs-lisp">(add-to-list 'org-latex-classes
             '(<span class="org-string">"article"</span>
               <span class="org-string">"\\documentclass[11pt]{article}</span>
<span class="org-string">                [NO-DEFAULT-PACKAGES]"</span>
               (<span class="org-string">"\\section{%s}"</span> . <span class="org-string">"\\section*{%s}"</span>)
               (<span class="org-string">"\\subsection{%s}"</span> . <span class="org-string">"\\subsection*{%s}"</span>)
               (<span class="org-string">"\\subsubsection{%s}"</span> . <span class="org-string">"\\subsubsection*{%s}"</span>)
               (<span class="org-string">"\\paragraph{%s}"</span> . <span class="org-string">"\\paragraph*{%s}"</span>)
               (<span class="org-string">"\\subparagraph{%s}"</span> . <span class="org-string">"\\subparagraph*{%s}"</span>)))
</pre>
</div>
</div>
</li>

<li>SuperNEMO articles<br  /><ul class="org-ul"><li>DocDB article<br  /><div class="outline-text-6" id="text-1-7-6-2-1">
<div class="org-src-container">

<pre class="src src-emacs-lisp">(add-to-list 'org-latex-classes
             '(<span class="org-string">"snemo-article"</span>
               <span class="org-string">"\\documentclass{scrartcl}</span>
<span class="org-string">                \\setkomafont{disposition}{\\normalfont\\bfseries}</span>
<span class="org-string">                [PACKAGES]</span>
<span class="org-string">                \\usepackage{supernemo-article-style}</span>
<span class="org-string">                [NO-DEFAULT-PACKAGES]"</span>
               (<span class="org-string">"\\section{%s}"</span> . <span class="org-string">"\\section*{%s}"</span>)
               (<span class="org-string">"\\subsection{%s}"</span> . <span class="org-string">"\\subsection*{%s}"</span>)
               (<span class="org-string">"\\subsubsection{%s}"</span> . <span class="org-string">"\\subsubsection*{%s}"</span>)
               (<span class="org-string">"\\paragraph{%s}"</span> . <span class="org-string">"\\paragraph*{%s}"</span>)
               (<span class="org-string">"\\subparagraph{%s}"</span> . <span class="org-string">"\\subparagraph*{%s}"</span>)))
</pre>
</div>
</div>
</li>
<li>Note taking<br  /><div class="outline-text-6" id="text-1-7-6-2-2">
<div class="org-src-container">

<pre class="src src-emacs-lisp">(add-to-list 'org-latex-classes
             '(<span class="org-string">"snemo-note"</span>
               <span class="org-string">"\\documentclass{scrartcl}</span>
<span class="org-string">                [PACKAGES]</span>
<span class="org-string">                \\usepackage{supernemo-note-style}</span>
<span class="org-string">                [NO-DEFAULT-PACKAGES]"</span>
               (<span class="org-string">"\\section{%s}"</span> . <span class="org-string">"\\section*{%s}"</span>)
               (<span class="org-string">"\\subsection{%s}"</span> . <span class="org-string">"\\subsection*{%s}"</span>)
               (<span class="org-string">"\\subsubsection{%s}"</span> . <span class="org-string">"\\subsubsection*{%s}"</span>)
               (<span class="org-string">"\\paragraph{%s}"</span> . <span class="org-string">"\\paragraph*{%s}"</span>)
               (<span class="org-string">"\\subparagraph{%s}"</span> . <span class="org-string">"\\subparagraph*{%s}"</span>)))
</pre>
</div>
</div>
</li>
<li>SN@ilWare markup filter<br  /><div class="outline-text-6" id="text-1-7-6-2-3">
<div class="org-src-container">

<pre class="src src-emacs-lisp">(<span class="org-keyword">defun</span> <span class="org-function-name">snailware-markup-filter</span> (contents backend info)
   (<span class="org-keyword">when</span> (eq backend 'latex)
     (replace-regexp-in-string <span class="org-string">"SN@ilware"</span> <span class="org-string">"\\\\Snailware"</span> contents)))
 (add-to-list 'org-export-filter-final-output-functions 'snailware-markup-filter)
</pre>
</div>
</div>
</li></ul>
</li>

<li>Memoir article<br  /><div class="outline-text-5" id="text-1-7-6-3">
<div class="org-src-container">

<pre class="src src-emacs-lisp">(add-to-list 'org-latex-classes
             '(<span class="org-string">"memoir-article"</span>
               <span class="org-string">"\\documentclass[11pt,oneside,article]{memoir}</span>
<span class="org-string">                [PACKAGES]</span>
<span class="org-string">                \\usepackage{memoir-article-style}</span>
<span class="org-string">                [NO-DEFAULT-PACKAGES]"</span>
               (<span class="org-string">"\\section{%s}"</span> . <span class="org-string">"\\section*{%s}"</span>)
               (<span class="org-string">"\\subsection{%s}"</span> . <span class="org-string">"\\subsection*{%s}"</span>)
               (<span class="org-string">"\\subsubsection{%s}"</span> . <span class="org-string">"\\subsubsection*{%s}"</span>)
               (<span class="org-string">"\\paragraph{%s}"</span> . <span class="org-string">"\\paragraph*{%s}"</span>)
               (<span class="org-string">"\\subparagraph{%s}"</span> . <span class="org-string">"\\subparagraph*{%s}"</span>)))
</pre>
</div>
</div>
</li>

<li>Beamer template<br  /><div class="outline-text-5" id="text-1-7-6-4">
<div class="org-src-container">

<pre class="src src-emacs-lisp">(add-to-list 'org-latex-classes
             '(<span class="org-string">"beamer"</span>
               <span class="org-string">"\\documentclass[c]{beamer}</span>
<span class="org-string">                [PACKAGES]</span>
<span class="org-string">                \\usepackage{custom-beamer}</span>
<span class="org-string">                [NO-DEFAULT-PACKAGES]"</span>
               (<span class="org-string">"\\section{%s}"</span> . <span class="org-string">"\\section*{%s}"</span>)
               (<span class="org-string">"\\subsection{%s}"</span> . <span class="org-string">"\\subsection*{%s}"</span>)
               (<span class="org-string">"\\subsubsection{%s}"</span> . <span class="org-string">"\\subsubsection*{%s}"</span>)
               (<span class="org-string">"\\paragraph{%s}"</span> . <span class="org-string">"\\paragraph*{%s}"</span>)
               (<span class="org-string">"\\subparagraph{%s}"</span> . <span class="org-string">"\\subparagraph*{%s}"</span>)))
</pre>
</div>
</div>

<ul class="org-ul"><li><b>bold</b> becomes <code>structure</code><br  /><div class="outline-text-6" id="text-1-7-6-4-1">
<p>
We also translate <b>bold</b> into beamer <code>structure</code>.
</p>
<div class="org-src-container">

<pre class="src src-emacs-lisp">(<span class="org-keyword">defun</span> <span class="org-function-name">sk-beamer-bold</span> (contents backend info)
  (<span class="org-keyword">when</span> (eq backend 'beamer)
    (replace-regexp-in-string <span class="org-string">"\\`\\\\[</span><span class="org-constant"><span class="org-string">A-Za-z0-9</span></span><span class="org-string">]+"</span> <span class="org-string">"\\\\structure"</span> contents)))
(<span class="org-keyword">defun</span> <span class="org-function-name">sk-beamer-underline</span> (contents backend info)
  (<span class="org-keyword">when</span> (eq backend 'beamer)
    (replace-regexp-in-string <span class="org-string">"\\`\\\\[</span><span class="org-constant"><span class="org-string">A-Za-z0-9</span></span><span class="org-string">]+"</span> <span class="org-string">"\\\\textbf"</span> contents)))
(<span class="org-keyword">defun</span> <span class="org-function-name">sk-beamer-strike</span> (contents backend info)
  (<span class="org-keyword">when</span> (eq backend 'beamer)
    (replace-regexp-in-string <span class="org-string">"\\`\\\\[</span><span class="org-constant"><span class="org-string">A-Za-z0-9</span></span><span class="org-string">]+"</span> <span class="org-string">"\\\\alert"</span> contents)))

(add-to-list 'org-export-filter-bold-functions 'sk-beamer-bold)
(add-to-list 'org-export-filter-underline-functions 'sk-beamer-underline)
(add-to-list 'org-export-filter-strike-through-functions 'sk-beamer-strike)
</pre>
</div>
</div>
</li>
<li>Use <code>strike</code> as alert<br  /><div class="outline-text-6" id="text-1-7-6-4-2">
<p>
Change the face of <code>strike-through</code>
</p>
<div class="org-src-container">

<pre class="src src-emacs-lisp">(<span class="org-keyword">require</span> '<span class="org-constant">cl</span>)
(setq org-emphasis-alist
      (cons '(<span class="org-string">"+"</span> '(<span class="org-builtin">:inherit</span> org-warning <span class="org-builtin">:inherit</span> bold))
            (delete* <span class="org-string">"+"</span> org-emphasis-alist <span class="org-builtin">:key</span> 'car <span class="org-builtin">:test</span> 'equal)))
</pre>
</div>
</div>
</li>
<li>Add <code>frame</code> option to footnote<br  /><div class="outline-text-6" id="text-1-7-6-4-3">
<div class="org-src-container">

<pre class="src src-emacs-lisp">(<span class="org-keyword">defun</span> <span class="org-function-name">sk-beamer-footnote</span> (contents backend info)
  (<span class="org-keyword">when</span> (eq backend 'beamer)
    (replace-regexp-in-string <span class="org-string">"\\`\\\\[</span><span class="org-constant"><span class="org-string">A-Za-z0-9</span></span><span class="org-string">]+"</span> <span class="org-string">"\\\\footnote[frame]"</span> contents)))
(add-to-list 'org-export-filter-footnote-reference-functions 'sk-beamer-footnote)
</pre>
</div>
</div>
</li>

<li>Add email<br  /><div class="outline-text-6" id="text-1-7-6-4-4">
<div class="org-src-container">

<pre class="src src-emacs-lisp">(setq user-mail-address nil)
(<span class="org-keyword">defun</span> <span class="org-function-name">sk-beamer-email</span> (options backend)
  <span class="org-doc">"Insert EMAIL as \email{EMAIL} in the latex backend when EMAIL is present."</span>
  (<span class="org-keyword">when</span> (and (org-export-derived-backend-p backend 'latex)
             (plist-get options <span class="org-builtin">:email</span>))
    (plist-put options <span class="org-builtin">:latex-header</span>
               (mapconcat 'identity
                          (remove nil
                                  (list
                                   (plist-get options <span class="org-builtin">:latex-header</span>)
                                   (format <span class="org-string">"\\email{%s}"</span>
                                           (plist-get options <span class="org-builtin">:email</span>))))
                          <span class="org-string">"\n"</span>))
    <span class="org-comment-delimiter">;; </span><span class="org-comment">don't insert email in \thanks{.}</span>
    (plist-put options <span class="org-builtin">:with-email</span> nil))
  options)

(add-to-list 'org-export-filter-options-functions 'sk-beamer-email)
</pre>
</div>
</div>
</li>

<li>Colored box environment<br  /><div class="outline-text-6" id="text-1-7-6-4-5">
<p>
We define a new environment for "colored" box
</p>
<div class="org-src-container">

<pre class="src src-emacs-lisp">(add-to-list 'org-beamer-environments-extra
             '(<span class="org-string">"cbox"</span> <span class="org-string">"c"</span> <span class="org-string">"\\begin{cbox}%o(%h)"</span> <span class="org-string">"\\end{cbox}"</span>))
</pre>
</div>
</div>
</li>

<li>Empty <code>outline</code> title<br  /><div class="outline-text-6" id="text-1-7-6-4-6">
<div class="org-src-container">

<pre class="src src-emacs-lisp">(setq org-beamer-outline-frame-title <span class="org-string">""</span>)
(setq org-beamer-outline-frame-options <span class="org-string">"plain"</span>)
</pre>
</div>
</div>
</li></ul>
</li></ul>
</div>
<div id="outline-container-sec-1-7-7" class="outline-4">
<h4 id="sec-1-7-7">Filters</h4>
<div class="outline-text-4" id="text-1-7-7">
</div><ul class="org-ul"><li>Ignore headline<br  /><div class="outline-text-5" id="text-1-7-7-1">
<p>
Add a new tag <code>ignoreheading</code> to skip headline tagged as such.
</p>
<div class="org-src-container">

<pre class="src src-emacs-lisp">(<span class="org-keyword">defun</span> <span class="org-function-name">sk-ignore-headline</span> (contents backend info)
  (<span class="org-keyword">when</span> (and (org-export-derived-backend-p backend 'latex)
             (string-match <span class="org-string">"\\`.*ignoreheading.*\n"</span>
                           (downcase contents)))
    (replace-match <span class="org-string">""</span> nil nil contents)))
(add-to-list 'org-export-filter-headline-functions 'sk-ignore-headline)
</pre>
</div>
</div>
</li>

<li>Remove section number<br  /><div class="outline-text-5" id="text-1-7-7-2">
<p>
Add a new tag <code>ignoresecnumber</code> to remove section number from headline.
</p>
<div class="org-src-container">

<pre class="src src-emacs-lisp">(<span class="org-keyword">defun</span> <span class="org-function-name">sk-ignore-section-number</span> (contents backend info)
  (<span class="org-keyword">when</span> (and (org-export-derived-backend-p backend 'latex)
             (string-match <span class="org-string">"\\`.*ignoresecnumber.*\n"</span>
                           (downcase contents)))
    (replace-regexp-in-string <span class="org-string">"\\`\\\\[</span><span class="org-constant"><span class="org-string">A-Za-z0-9</span></span><span class="org-string">]+"</span> <span class="org-string">"\\\\section\*"</span>
    (replace-regexp-in-string <span class="org-string">"\\\\textsc{ignoresecnumber}"</span> <span class="org-string">""</span> contents))))
  (add-to-list 'org-export-filter-headline-functions 'sk-ignore-section-number)
</pre>
</div>
</div>
</li>

<li>Change <code>table</code> into <code>figure</code> env<br  /><div class="outline-text-5" id="text-1-7-7-3">
<p>
When graphics are placed into table cells then change the default table
environment into figure
</p>
<div class="org-src-container">

<pre class="src src-emacs-lisp">(<span class="org-keyword">defun</span> <span class="org-function-name">sk-multicolumn-figure</span> (contents backend info)
  (<span class="org-keyword">when</span> (and (org-export-derived-backend-p backend 'latex)
             (string-match <span class="org-string">"table"</span> contents)
             (string-match <span class="org-string">"includegraphics"</span> contents))
    (replace-regexp-in-string <span class="org-string">"table"</span> <span class="org-string">"figure"</span> contents)))
(add-to-list 'org-export-filter-table-functions 'sk-multicolumn-figure)
</pre>
</div>
</div>
</li></ul>
</div>

<div id="outline-container-sec-1-7-8" class="outline-4">
<h4 id="sec-1-7-8">KOMA/LaTeX script</h4>
<div class="outline-text-4" id="text-1-7-8">
<p>
Define a special <code>org-latex-classes</code> to make use of KOMA/LaTeX letter
style. The <code>ox-koma-letter</code> backend from org-mode contribution directory must
be properly installed or loaded. To produce org-mode to LaTeX to PDF export,
you should use the <code>org-koma-letter-export-to-pdf</code> command.
</p>

<div class="org-src-container">

<pre class="src src-emacs-lisp">(setq org-koma-letter-email  nil)
(setq org-koma-letter-author nil)
(setq org-koma-letter-from-address <span class="org-string">""</span>)
(add-to-list 'org-latex-classes
             '(<span class="org-string">"koma-letter"</span>
               <span class="org-string">"\\documentclass{scrlttr2}</span>
<span class="org-string">                [NO-DEFAULT-PACKAGES]"</span>))
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-1-7-9" class="outline-4">
<h4 id="sec-1-7-9">Add new LATEX_CMD option to choose between <code>pdflatex</code> and <code>xelatex</code></h4>
<div class="outline-text-4" id="text-1-7-9">
<p>
From <a href="http://orgmode.org/worg/org-faq.html#using-xelatex-for-pdf-export">org-faq</a>
</p>
<div class="org-src-container">

<pre class="src src-emacs-lisp">(<span class="org-keyword">defun</span> <span class="org-function-name">sk-latexmk-cmd</span> (backend)
  <span class="org-doc">"When exporting from .org with latex, automatically run latex,</span>
<span class="org-doc">     pdflatex, or xelatex as appropriate, using latexmk."</span>
  (<span class="org-keyword">when</span> (org-export-derived-backend-p backend 'latex)
    (<span class="org-keyword">let</span> ((texcmd)))
    <span class="org-comment-delimiter">;; </span><span class="org-comment">default command: xelatex</span>
    (setq texcmd <span class="org-string">"jobname=$(basename %f | sed 's/\.tex//');latexmk -xelatex -shell-escape -quiet %f &amp;&amp; mkdir -p latex.d &amp;&amp; mv ${jobname}.* latex.d/. &amp;&amp; mv latex.d/${jobname}.{org,pdf,fdb_latexmk,aux} ."</span>)
    <span class="org-comment-delimiter">;; </span><span class="org-comment">pdflatex -&gt; .png</span>
    (<span class="org-keyword">if</span> (string-match <span class="org-string">"LATEX_CMD: pdflatex"</span> (buffer-string))
        (setq texcmd <span class="org-string">"latexmk -pdf -shell-escape -quiet %f"</span>))
    <span class="org-comment-delimiter">;; </span><span class="org-comment">xelatex -&gt; .png</span>
    (<span class="org-keyword">if</span> (string-match <span class="org-string">"LATEX_CMD: xelatex"</span> (buffer-string))
        (setq texcmd <span class="org-string">"latexmk -xelatex -shell-escape -quiet %f"</span>))
    <span class="org-comment-delimiter">;; </span><span class="org-comment">LaTeX compilation command</span>
    (setq org-latex-pdf-process (list texcmd))))

(org-add-hook 'org-export-before-processing-hook 'sk-latexmk-cmd)
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-1-7-10" class="outline-4">
<h4 id="sec-1-7-10">Minted setup</h4>
<div class="outline-text-4" id="text-1-7-10">
<div class="org-src-container">

<pre class="src src-emacs-lisp">(setq org-latex-listings 'minted)
(setq org-latex-minted-options
      '(<span class="org-comment-delimiter">;;</span><span class="org-comment">("frame" "lines")</span>
        (<span class="org-string">"fontsize"</span> <span class="org-string">"\\footnotesize"</span>)
        (<span class="org-string">"mathescape"</span> <span class="org-string">""</span>)
        (<span class="org-string">"samepage"</span> <span class="org-string">""</span>)
        (<span class="org-string">"xrightmargin"</span> <span class="org-string">"0.5cm"</span>)
        (<span class="org-string">"xleftmargin"</span>  <span class="org-string">"0.5cm"</span>)
        ))
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-1-7-11" class="outline-4">
<h4 id="sec-1-7-11">Place table caption below table</h4>
<div class="outline-text-4" id="text-1-7-11">
<div class="org-src-container">

<pre class="src src-emacs-lisp">(setq org-latex-table-caption-above nil)
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-sec-1-8" class="outline-3">
<h3 id="sec-1-8">Org-reveal</h3>
<div class="outline-text-3" id="text-1-8">
<p>
<a href="https://github.com/yjwen/org-reveal/"><code>org-reveal</code></a> exports <code>org</code> documents to reveal.js presentations.
</p>
<div class="org-src-container">

<pre class="src src-emacs-lisp">(<span class="org-keyword">require</span> '<span class="org-constant">ox-reveal</span>)
(setq org-reveal-root <span class="org-string">"http://cdn.jsdelivr.net/reveal.js/2.5.0/"</span>)
(setq org-reveal-hlevel 2)
(setq org-reveal-control nil)
<span class="org-comment-delimiter">;;</span><span class="org-comment">(setq org-reveal-theme "solarized")</span>
</pre>
</div>
</div>
<div id="outline-container-sec-1-8-1" class="outline-4">
<h4 id="sec-1-8-1">Filters</h4>
<div class="outline-text-4" id="text-1-8-1">
</div><ul class="org-ul"><li>Change <code>pdf</code> file to <code>png</code> image<br  /><div class="outline-text-5" id="text-1-8-1-1">
<div class="org-src-container">

<pre class="src src-emacs-lisp">(<span class="org-keyword">defun</span> <span class="org-function-name">sk-change-pdf-to-png</span> (backend)
  (<span class="org-keyword">when</span> (org-export-derived-backend-p backend 'reveal)
    (<span class="org-keyword">while</span> (re-search-forward <span class="org-string">"</span><span class="org-regexp-grouping-backslash"><span class="org-string">\\</span></span><span class="org-regexp-grouping-construct"><span class="org-string">(</span></span><span class="org-string">.png</span><span class="org-regexp-grouping-backslash"><span class="org-string">\\</span></span><span class="org-regexp-grouping-construct"><span class="org-string">)</span></span><span class="org-string">"</span> nil t)
      (replace-match <span class="org-string">".png"</span>))))

(add-hook 'org-export-before-parsing-hook 'sk-change-pdf-to-png)
</pre>
</div>
</div>
</li></ul>
</div>
</div>

<div id="outline-container-sec-1-9" class="outline-3">
<h3 id="sec-1-9">Prevent editing invisible text</h3>
<div class="outline-text-3" id="text-1-9">
<p>
The following setting prevents accidentally editing hidden text when
the point is inside a folded region. This can happen if you are in the
body of a heading and globally fold the org-file with <code>S-TAB</code>
</p>

<p>
I find invisible edits (and undo's) hard to deal with so now I can't
edit invisible text. <code>C-c C-r</code> (org-reveal) will display where the point
is if it is buried in invisible text to allow editing again.
</p>
<div class="org-src-container">

<pre class="src src-emacs-lisp">(setq org-catch-invisible-edits 'error)
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-1-10" class="outline-3">
<h3 id="sec-1-10">Automatically renumber footnotes</h3>
<div class="outline-text-3" id="text-1-10">
<div class="org-src-container">

<pre class="src src-emacs-lisp">(setq org-footnote-auto-adjust t)
</pre>
</div>
</div>
</div>
<div id="outline-container-sec-1-11" class="outline-3">
<h3 id="sec-1-11">Org fold to store folding state</h3>
<div class="outline-text-3" id="text-1-11">
<p>
Stolen from <a href="https://github.com/dandavison/org-fold">Dan Davison</a> git account. Just changing the directory where
the <code>.fold</code> file is saved.
</p>
<div class="org-src-container">

<pre class="src src-emacs-lisp">(<span class="org-keyword">defun</span> <span class="org-function-name">org-fold-get-fold-info-file-name</span> ()
  (concat temporary-file-directory <span class="org-string">"org-fold/"</span> (buffer-name) <span class="org-string">".fold"</span>))

(<span class="org-keyword">defun</span> <span class="org-function-name">org-fold-save</span> ()
  (<span class="org-keyword">save-excursion</span>
    (goto-char (point-min))
    (<span class="org-keyword">let</span> (foldstates)
      (<span class="org-keyword">unless</span> (looking-at outline-regexp)
        (outline-next-visible-heading 1))
      (<span class="org-keyword">while</span> (not (eobp))
        (push (<span class="org-keyword">if</span> (some (<span class="org-keyword">lambda</span> (o) (overlay-get o 'invisible))
                        (overlays-at (line-end-position)))
                  t)
              foldstates)
        (outline-next-visible-heading 1))
      (<span class="org-keyword">with-temp-file</span> (org-fold-get-fold-info-file-name)
        (prin1 (nreverse foldstates) (current-buffer))))))

(<span class="org-keyword">defun</span> <span class="org-function-name">org-fold-restore</span> ()
  (<span class="org-keyword">save-excursion</span>
    (goto-char (point-min))
    (<span class="org-keyword">let*</span> ((foldfile (org-fold-get-fold-info-file-name))
           (foldstates
            (<span class="org-keyword">if</span> (file-readable-p foldfile)
                (<span class="org-keyword">with-temp-buffer</span>
                  (insert-file-contents foldfile)
                  (read (current-buffer))))))
      (<span class="org-keyword">when</span> foldstates
        (show-all)
        (goto-char (point-min))
        (<span class="org-keyword">unless</span> (looking-at outline-regexp)
          (outline-next-visible-heading 1))
        (<span class="org-keyword">while</span> (and foldstates (not (eobp)))
          (<span class="org-keyword">if</span> (pop foldstates)
              (hide-subtree))
          (outline-next-visible-heading 1))
        (message <span class="org-string">"Restored saved folding state"</span>)))))

(add-hook 'org-mode-hook 'org-fold-activate)

(<span class="org-keyword">defun</span> <span class="org-function-name">org-fold-activate</span> ()
  (org-fold-restore)
  (add-hook 'before-save-hook 'org-fold-save        nil t)
  (add-hook 'auto-save-hook   'org-fold-kill-buffer nil t))

(<span class="org-keyword">defun</span> <span class="org-function-name">org-fold-kill-buffer</span> ()
  <span class="org-comment-delimiter">;; </span><span class="org-comment">don't save folding info for unsaved buffers</span>
  (<span class="org-keyword">unless</span> (buffer-modified-p)
    (org-fold-save)))
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-1-12" class="outline-3">
<h3 id="sec-1-12">Function to generate all org table</h3>
<div class="outline-text-3" id="text-1-12">
<p>
From <a href="http://article.gmane.org/gmane.emacs.orgmode/64670">Carsten Dominik</a>
</p>
<div class="org-src-container">

<pre class="src src-emacs-lisp">(<span class="org-keyword">defun</span> <span class="org-function-name">sk-org-send-all-tables</span> ()
   (interactive)
   (org-table-map-tables
      (<span class="org-keyword">lambda</span> () (orgtbl-send-table 'maybe))))
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-1-13" class="outline-3">
<h3 id="sec-1-13">Org capture</h3>
<div class="outline-text-3" id="text-1-13">
<p>
Emacs Org-mode has a feature called Org-capture that makes it easy to keep track
of all the to-do's that crop up as we work on projects.  With Org-capture you
can make comments across all your files and projects and link to them all from
one place.
</p>
</div>
<div id="outline-container-sec-1-13-1" class="outline-4">
<h4 id="sec-1-13-1">Setting the TODO file location</h4>
<div class="outline-text-4" id="text-1-13-1">
<div class="org-src-container">

<pre class="src src-emacs-lisp">(setq org-default-notes-file <span class="org-string">"~/Development/org-notes/misc/todo-list.org"</span>)
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-1-13-2" class="outline-4">
<h4 id="sec-1-13-2">Closing items</h4>
<div class="outline-text-4" id="text-1-13-2">
<p>
The most basic logging is to keep track of when a certain TODO item was
finished. This is achieved with
</p>
<div class="org-src-container">

<pre class="src src-emacs-lisp">(setq org-log-done 'time)
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-sec-1-14" class="outline-3">
<h3 id="sec-1-14">Org calendar synchronization with Google Agenda&#xa0;&#xa0;&#xa0;<span class="tag"><span class="DEPRECATED">DEPRECATED</span></span></h3>
<div class="outline-text-3" id="text-1-14">
<div class="org-src-container">

<pre class="src src-emacs-lisp"><span class="org-comment-delimiter">;; </span><span class="org-comment">(add-to-list 'load-path (concat starter-kit-lisp-directory "org-caldav"))</span>

(setq org-caldav-calendar-id <span class="org-string">"dmpa69a5ajdi54dtl8jsdqcivs@group.calendar.google.com"</span>
      org-caldav-url <span class="org-string">"https://www.google.com/calendar/dav"</span><span class="org-comment-delimiter">;</span>
      org-caldav-files '(<span class="org-string">"~/Documents/Org/rdv.org"</span>)
      org-caldav-inbox <span class="org-string">"~/Documents/Org/inbox.org"</span>)
</pre>
</div>
</div>
</div>
</div>
</div>
<div id="postamble" class="status">
File under <i class="fa fa-github-alt"></i> version control - commit <a href="https://github.com/xgarrido/emacs-starter-kit/commit/dda83e23b9ff64e789cfcc465904aadf8c72d4e2">dda83e2</a> - 2014-04-27
</div>
</body>
</html>
